{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { flightApi } from '../api/flight';\nimport { calculateFlightStats } from '../lib/calculateStats.utils';\nexport const useFlightStats = () => {\n  const [flights, setFlights] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadFlights = async () => {\n      try {\n        setLoading(true);\n        const data = await flightApi.getFlights(500);\n        setFlights(data);\n      } catch (err) {\n        setError('Ошибка загрузки данных');\n        console.error('Ошибка загрузки рейсов:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadFlights();\n  }, []);\n  const stats = calculateFlightStats(flights);\n  return {\n    flights,\n    loading,\n    error,\n    ...stats\n  };\n};","map":{"version":3,"sources":["/Users/emiliamamedova/flight-1/src/shared/hooks/useFlightStats.ts"],"names":["useState","useEffect","flightApi","calculateFlightStats","useFlightStats","flights","setFlights","loading","setLoading","error","setError","loadFlights","data","getFlights","err","console","stats"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,oBAAT,QAAqC,6BAArC;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAW,EAAX,CAAtC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAgB,IAAhB,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,WAAW,GAAG,YAAY;AAC9B,UAAI;AACFH,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAMI,IAAI,GAAG,MAAMV,SAAS,CAACW,UAAV,CAAqB,GAArB,CAAnB;AACAP,QAAAA,UAAU,CAACM,IAAD,CAAV;AACD,OAJD,CAIE,OAAOE,GAAP,EAAY;AACZJ,QAAAA,QAAQ,CAAC,wBAAD,CAAR;AACAK,QAAAA,OAAO,CAACN,KAAR,CAAc,yBAAd,EAAyCK,GAAzC;AACD,OAPD,SAOU;AACRN,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAXD;;AAaAG,IAAAA,WAAW;AACZ,GAfQ,EAeN,EAfM,CAAT;AAiBA,QAAMK,KAAK,GAAGb,oBAAoB,CAACE,OAAD,CAAlC;AAEA,SAAO;AACLA,IAAAA,OADK;AAELE,IAAAA,OAFK;AAGLE,IAAAA,KAHK;AAIL,OAAGO;AAJE,GAAP;AAMD,CA9BM","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Flight } from '../../entities/flight/flight.types';\nimport { flightApi } from '../api/flight';\nimport { calculateFlightStats } from '../lib/calculateStats.utils';\n\nexport const useFlightStats = () => {\n  const [flights, setFlights] = useState<Flight[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadFlights = async () => {\n      try {\n        setLoading(true);\n        const data = await flightApi.getFlights(500);\n        setFlights(data);\n      } catch (err) {\n        setError('Ошибка загрузки данных');\n        console.error('Ошибка загрузки рейсов:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadFlights();\n  }, []);\n\n  const stats = calculateFlightStats(flights);\n\n  return {\n    flights,\n    loading,\n    error,\n    ...stats\n  };\n};"]},"metadata":{},"sourceType":"module"}