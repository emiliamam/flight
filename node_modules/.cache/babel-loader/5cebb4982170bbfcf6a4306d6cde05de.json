{"ast":null,"code":"import React, { useState, useMemo } from 'react';\nimport { Bar } from 'react-chartjs-2';\n\nconst PunctualityChartWithTable = () => {// const [minFlights, setMinFlights] = useState(1000); \n  // const filteredData = useMemo(() => {\n  //   if (!Array.isArray(data)) return [];\n  //   return data.filter(item => item['Количество рейсов'] >= minFlights);\n  // }, [data, minFlights]);\n  // const chartData = useMemo(() => {\n  //   return {\n  //     labels: filteredData.map(item => item.Авиакомпания),\n  //     datasets: [\n  //       {\n  //         label: 'Пунктуальность отправления (%)',\n  //         data: filteredData.map(item => item.Отправление),\n  //         backgroundColor: 'rgba(54, 162, 235, 0.6)',\n  //       },\n  //       {\n  //         label: 'Пунктуальность прибытия (%)',\n  //         data: filteredData.map(item => item.Прибытие),\n  //         backgroundColor: 'rgba(75, 192, 192, 0.6)',\n  //       },\n  //     ],\n  //   };\n  // }, [filteredData]);\n  // return (\n  //   <div style={{ padding: 20, maxWidth: 1000, margin: '0 auto' }}>\n  //     <h2 style={{ textAlign: 'center'}}>\n  //       Аналитика пунктуальности авиакомпаний\n  //     </h2>\n  //     <div style={{ marginBottom: 15, textAlign: 'center' }}>\n  //       <label>\n  //         Минимальное количество рейсов для отображения:{' '}\n  //         <input\n  //           type=\"number\"\n  //           value={minFlights}\n  //           min={0}\n  //           max={Math.max(...data.map(d => d['Количество рейсов']))}\n  //           onChange={(e) => setMinFlights(Number(e.target.value))}\n  //           style={{ width: 80 }}\n  //         />\n  //       </label>\n  //     </div>\n  //     <div style={{ overflowX: 'auto', marginBottom: 30 }}>\n  //       <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: 14 }}>\n  //         <thead style={{ backgroundColor: '#f0f0f0' }}>\n  //           <tr>\n  //             <th style={thStyle}>Авиакомпания</th>\n  //             <th style={thStyle}>Код</th>\n  //             <th style={thStyle}>Количество рейсов</th>\n  //             <th style={thStyle}>Отмены</th>\n  //             <th style={thStyle}>Пунктуальность отправления (%)</th>\n  //             <th style={thStyle}>Пунктуальность прибытия (%)</th>\n  //           </tr>\n  //         </thead>\n  //         <tbody>\n  //           {filteredData.map((item, i) => (\n  //             <tr key={i} style={{ textAlign: 'center' }}>\n  //               <td style={tdStyle}>{item.Авиакомпания}</td>\n  //               <td style={tdStyle}>{item.Код}</td>\n  //               <td style={tdStyle}>{item['Количество рейсов']}</td>\n  //               <td style={tdStyle}>{item.Отмены}</td>\n  //               <td style={tdStyle}>{item.Отправление.toFixed(1)}</td>\n  //               <td style={tdStyle}>{item.Прибытие.toFixed(1)}</td>\n  //             </tr>\n  //           ))}\n  //         </tbody>\n  //       </table>\n  //     </div>\n  //     <div style={{ height: 500 }}>\n  //       <Bar\n  //         data={chartData}\n  //         options={{\n  //           responsive: true,\n  //           plugins: {\n  //             legend: { position: 'top' },\n  //             title: { display: false },\n  //             tooltip: {\n  //               callbacks: {\n  //                 label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y}%`,\n  //               },\n  //             },\n  //           },\n  //           scales: {\n  //             y: {\n  //               min: 0,\n  //               max: 100,\n  //               title: { display: true, text: 'Пунктуальность (%)' },\n  //             },\n  //             x: {\n  //               title: { display: true, text: 'Авиакомпания' },\n  //               ticks: { maxRotation: 90, minRotation: 45 },\n  //             },\n  //           },\n  //         }}\n  //       />\n  //     </div>\n  //   </div>\n  // );\n};\n\nconst thStyle = {\n  padding: '8px 12px',\n  border: '1px solid #ccc',\n  fontWeight: 'bold'\n};\nconst tdStyle = {\n  padding: '8px 12px',\n  border: '1px solid #ddd'\n};\nexport default PunctualityChartWithTable;","map":{"version":3,"sources":["/Users/emiliamamedova/flight-1/src/components/Chart/PunctualityChart/PunctualityChart.jsx"],"names":["React","useState","useMemo","Bar","PunctualityChartWithTable","thStyle","padding","border","fontWeight","tdStyle"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,OAAzC;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAEA,MAAMC,yBAAyB,GAAG,MAAM,CACtC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAtGD;;AAwGA,MAAMC,OAAO,GAAG;AACdC,EAAAA,OAAO,EAAE,UADK;AAEdC,EAAAA,MAAM,EAAE,gBAFM;AAGdC,EAAAA,UAAU,EAAE;AAHE,CAAhB;AAMA,MAAMC,OAAO,GAAG;AACdH,EAAAA,OAAO,EAAE,UADK;AAEdC,EAAAA,MAAM,EAAE;AAFM,CAAhB;AAKA,eAAeH,yBAAf","sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { Bar } from 'react-chartjs-2';\n\nconst PunctualityChartWithTable = () => {\n  // const [minFlights, setMinFlights] = useState(1000); \n  // const filteredData = useMemo(() => {\n  //   if (!Array.isArray(data)) return [];\n  //   return data.filter(item => item['Количество рейсов'] >= minFlights);\n  // }, [data, minFlights]);\n\n  // const chartData = useMemo(() => {\n  //   return {\n  //     labels: filteredData.map(item => item.Авиакомпания),\n  //     datasets: [\n  //       {\n  //         label: 'Пунктуальность отправления (%)',\n  //         data: filteredData.map(item => item.Отправление),\n  //         backgroundColor: 'rgba(54, 162, 235, 0.6)',\n  //       },\n  //       {\n  //         label: 'Пунктуальность прибытия (%)',\n  //         data: filteredData.map(item => item.Прибытие),\n  //         backgroundColor: 'rgba(75, 192, 192, 0.6)',\n  //       },\n  //     ],\n  //   };\n  // }, [filteredData]);\n\n  // return (\n  //   <div style={{ padding: 20, maxWidth: 1000, margin: '0 auto' }}>\n  //     <h2 style={{ textAlign: 'center'}}>\n  //       Аналитика пунктуальности авиакомпаний\n  //     </h2>\n\n  //     <div style={{ marginBottom: 15, textAlign: 'center' }}>\n  //       <label>\n  //         Минимальное количество рейсов для отображения:{' '}\n  //         <input\n  //           type=\"number\"\n  //           value={minFlights}\n  //           min={0}\n  //           max={Math.max(...data.map(d => d['Количество рейсов']))}\n  //           onChange={(e) => setMinFlights(Number(e.target.value))}\n  //           style={{ width: 80 }}\n  //         />\n  //       </label>\n  //     </div>\n\n  //     <div style={{ overflowX: 'auto', marginBottom: 30 }}>\n  //       <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: 14 }}>\n  //         <thead style={{ backgroundColor: '#f0f0f0' }}>\n  //           <tr>\n  //             <th style={thStyle}>Авиакомпания</th>\n  //             <th style={thStyle}>Код</th>\n  //             <th style={thStyle}>Количество рейсов</th>\n  //             <th style={thStyle}>Отмены</th>\n  //             <th style={thStyle}>Пунктуальность отправления (%)</th>\n  //             <th style={thStyle}>Пунктуальность прибытия (%)</th>\n  //           </tr>\n  //         </thead>\n  //         <tbody>\n  //           {filteredData.map((item, i) => (\n  //             <tr key={i} style={{ textAlign: 'center' }}>\n  //               <td style={tdStyle}>{item.Авиакомпания}</td>\n  //               <td style={tdStyle}>{item.Код}</td>\n  //               <td style={tdStyle}>{item['Количество рейсов']}</td>\n  //               <td style={tdStyle}>{item.Отмены}</td>\n  //               <td style={tdStyle}>{item.Отправление.toFixed(1)}</td>\n  //               <td style={tdStyle}>{item.Прибытие.toFixed(1)}</td>\n  //             </tr>\n  //           ))}\n  //         </tbody>\n  //       </table>\n  //     </div>\n\n  //     <div style={{ height: 500 }}>\n  //       <Bar\n  //         data={chartData}\n  //         options={{\n  //           responsive: true,\n  //           plugins: {\n  //             legend: { position: 'top' },\n  //             title: { display: false },\n  //             tooltip: {\n  //               callbacks: {\n  //                 label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y}%`,\n  //               },\n  //             },\n  //           },\n  //           scales: {\n  //             y: {\n  //               min: 0,\n  //               max: 100,\n  //               title: { display: true, text: 'Пунктуальность (%)' },\n  //             },\n  //             x: {\n  //               title: { display: true, text: 'Авиакомпания' },\n  //               ticks: { maxRotation: 90, minRotation: 45 },\n  //             },\n  //           },\n  //         }}\n  //       />\n  //     </div>\n  //   </div>\n  // );\n};\n\nconst thStyle = {\n  padding: '8px 12px',\n  border: '1px solid #ccc',\n  fontWeight: 'bold',\n};\n\nconst tdStyle = {\n  padding: '8px 12px',\n  border: '1px solid #ddd',\n};\n\nexport default PunctualityChartWithTable;\n"]},"metadata":{},"sourceType":"module"}