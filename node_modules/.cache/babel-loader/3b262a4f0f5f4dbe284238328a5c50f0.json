{"ast":null,"code":"var _jsxFileName = \"/Users/emiliamamedova/flight-1/src/components/Analytics.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from './Analytics.module.css';\n\nconst Analytics = () => {\n  const [rules, setRules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedRule, setSelectedRule] = useState(null);\n  const [explanationOpen, setExplanationOpen] = useState(false);\n  useEffect(() => {\n    const fetchRules = async () => {\n      try {\n        const response = await axios.get('http://127.0.0.1:8000/api/delay-rules/top');\n        setRules(response.data);\n      } catch (err) {\n        setError('Ошибка при получении данных. Проверьте подключение к серверу.');\n        console.error('Error fetching rules:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRules();\n  }, []);\n\n  const openRuleDetails = rule => {\n    setSelectedRule(rule);\n  };\n\n  const closeRuleDetails = () => {\n    setSelectedRule(null);\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.loadingContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.spinner,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0430\\u043D\\u0430\\u043B\\u0438\\u0442\\u0438\\u043A\\u0438 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u0435\\u043A...\"));\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.errorContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, error), /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.retryBtn,\n      onClick: () => window.location.reload(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"));\n  }\n\n  const getConfidenceClass = confidence => {\n    if (confidence > 0.8) return styles.high;\n    if (confidence > 0.6) return styles.medium;\n    return styles.low;\n  };\n\n  const getLiftClass = lift => {\n    if (lift > 2) return styles.excellent;\n    if (lift > 1.5) return styles.good;\n    return styles.average;\n  };\n\n  const getConfidenceLabel = confidence => {\n    if (confidence > 0.8) return 'Высокая';\n    if (confidence > 0.6) return 'Средняя';\n    return 'Низкая';\n  };\n\n  const getLiftLabel = lift => {\n    if (lift > 2) return 'Отлично';\n    if (lift > 1.5) return 'Хорошо';\n    return 'Средне';\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.pageHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.headerContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.pageTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"\\u0410\\u043D\\u0430\\u043B\\u0438\\u0442\\u0438\\u043A\\u0430 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u0435\\u043A \\u0440\\u0435\\u0439\\u0441\\u043E\\u0432\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.pageSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"\\u041D\\u0430 \\u043E\\u0441\\u043D\\u043E\\u0432\\u0435 \\u0430\\u043D\\u0430\\u043B\\u0438\\u0437\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0432\\u044B\\u044F\\u0432\\u043B\\u0435\\u043D\\u044B \\u0441\\u043A\\u0440\\u044B\\u0442\\u044B\\u0435 \\u0437\\u0430\\u043A\\u043E\\u043D\\u043E\\u043C\\u0435\\u0440\\u043D\\u043E\\u0441\\u0442\\u0438, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0435 \\u0432\\u043B\\u0438\\u044F\\u044E\\u0442 \\u043D\\u0430 \\u043F\\u0443\\u043D\\u043A\\u0442\\u0443\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0430\\u0432\\u0438\\u0430\\u0440\\u0435\\u0439\\u0441\\u043E\\u0432\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.headerActions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.helpBtn,\n    onClick: () => setExplanationOpen(!explanationOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"\\u041A\\u0430\\u043A \\u0447\\u0438\\u0442\\u0430\\u0442\\u044C \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u0443?\"))), explanationOpen && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalOverlay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"\\u041A\\u0430\\u043A \\u043F\\u043E\\u043D\\u0438\\u043C\\u0430\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0432 \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u0435\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.closeBtn,\n    onClick: () => setExplanationOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.explanationBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"\\u0423\\u0441\\u043B\\u043E\\u0432\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u043E \\u0432\\u0438\\u0434\\u0430 \\\"\\u0415\\u0441\\u043B\\u0438 [\\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F], \\u0442\\u043E [\\u0442\\u0438\\u043F \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438]\\\". \\u041F\\u043E\\u043A\\u0430\\u0437\\u044B\\u0432\\u0430\\u0435\\u0442 \\u043F\\u0440\\u0438 \\u043A\\u0430\\u043A\\u0438\\u0445 \\u043E\\u0431\\u0441\\u0442\\u043E\\u044F\\u0442\\u0435\\u043B\\u044C\\u0441\\u0442\\u0432\\u0430\\u0445 \\u0447\\u0430\\u0449\\u0435 \\u0432\\u0441\\u0435\\u0433\\u043E \\u043F\\u0440\\u043E\\u0438\\u0441\\u0445\\u043E\\u0434\\u044F\\u0442 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.explanationBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430 (Support)\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"\\u0427\\u0430\\u0441\\u0442\\u043E\\u0442\\u0430 \\u0432\\u0441\\u0442\\u0440\\u0435\\u0447\\u0430\\u0435\\u043C\\u043E\\u0441\\u0442\\u0438 \\u0434\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430 \\u0432\\u043E \\u0432\\u0441\\u0435\\u0445 \\u0440\\u0435\\u0439\\u0441\\u0430\\u0445. \\u0427\\u0435\\u043C \\u0432\\u044B\\u0448\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435, \\u0442\\u0435\\u043C \\u0447\\u0430\\u0449\\u0435 \\u0432\\u0441\\u0442\\u0440\\u0435\\u0447\\u0430\\u0435\\u0442\\u0441\\u044F \\u0442\\u0430\\u043A\\u043E\\u0435 \\u0441\\u043E\\u0447\\u0435\\u0442\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u0439.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.example,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0440: 0.05 = 5% \\u0432\\u0441\\u0435\\u0445 \\u0440\\u0435\\u0439\\u0441\\u043E\\u0432\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tips,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"\\u0421\\u043E\\u0432\\u0435\\u0442\\u044B \\u043F\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044E:\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, \"\\u0421\\u043C\\u043E\\u0442\\u0440\\u0438\\u0442\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430 \\u0441 \\u0432\\u044B\\u0441\\u043E\\u043A\\u043E\\u0439 \\u0434\\u043E\\u0441\\u0442\\u043E\\u0432\\u0435\\u0440\\u043D\\u043E\\u0441\\u0442\\u044C\\u044E (> 0.8)\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430 \\u0441 \\u0432\\u044B\\u0441\\u043E\\u043A\\u0438\\u043C \\u043F\\u043E\\u0434\\u044A\\u0435\\u043C\\u043E\\u043C (> 2) \\u043D\\u0430\\u0438\\u0431\\u043E\\u043B\\u0435\\u0435 \\u043F\\u043E\\u043B\\u0435\\u0437\\u043D\\u044B\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, \"\\u0423\\u0447\\u0438\\u0442\\u044B\\u0432\\u0430\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0443 - \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430 \\u0441 \\u043D\\u0438\\u0437\\u043A\\u043E\\u0439 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u043E\\u0439 \\u043C\\u043E\\u0433\\u0443\\u0442 \\u0431\\u044B\\u0442\\u044C \\u0440\\u0435\\u0434\\u043A\\u0438\\u043C\\u0438 \\u0441\\u043B\\u0443\\u0447\\u0430\\u044F\\u043C\\u0438\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.tableTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, \"\\u0422\\u043E\\u043F \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B \\u043E \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\\u0445 \\u0440\\u0435\\u0439\\u0441\\u043E\\u0432\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableStats,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.statItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.statLabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0441\\u0435\\u0433\\u043E \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.statValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, rules.length)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.statItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.statLabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u044F\\u044F \\u0434\\u043E\\u0441\\u0442\\u043E\\u0432\\u0435\\u0440\\u043D\\u043E\\u0441\\u0442\\u044C:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.statValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, (rules.reduce((sum, rule) => sum + rule.confidence, 0) / rules.length).toFixed(3))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: styles.rulesTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.tableTh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, \"\\u0423\\u0441\\u043B\\u043E\\u0432\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.tableTh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.tableTh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, \"\\u0414\\u043E\\u0441\\u0442\\u043E\\u0432\\u0435\\u0440\\u043D\\u043E\\u0441\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.tableTh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u043E\\u0434\\u044A\\u0435\\u043C\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.tableTh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, rules.map((rule, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    className: `${styles.tableRow} ${index % 2 === 0 ? styles.even : styles.odd}`,\n    onClick: () => openRuleDetails(rule),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: styles.ruleCondition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ruleText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, rule.rule)), /*#__PURE__*/React.createElement(\"td\", {\n    className: styles.ruleSupport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }, rule.support.toFixed(3), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.barFill,\n    style: {\n      width: `${Math.min(rule.support * 200, 100)}%`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"td\", {\n    className: styles.ruleConfidence,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, rule.confidence.toFixed(3), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${styles.badge} ${styles[getConfidenceClass(rule.confidence)]}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 23\n    }\n  }, getConfidenceLabel(rule.confidence)))), /*#__PURE__*/React.createElement(\"td\", {\n    className: styles.ruleLift,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }, rule.lift.toFixed(2), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${styles.badge} ${styles[getLiftClass(rule.lift)]}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 23\n    }\n  }, getLiftLabel(rule.lift)))), /*#__PURE__*/React.createElement(\"td\", {\n    className: styles.ruleActions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.detailsBtn,\n    onClick: e => {\n      e.stopPropagation();\n      openRuleDetails(rule);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\")))))))), selectedRule && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalOverlay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${styles.modalContent} ${styles.ruleDetails}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.closeBtn,\n    onClick: closeRuleDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ruleFullText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u043E:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.ruleTextDetailed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, selectedRule.rule)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricsGrid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.metricValueLarge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, selectedRule.support.toFixed(3)), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.metricDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"\\u042D\\u0442\\u043E \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u043E \\u0432\\u0441\\u0442\\u0440\\u0435\\u0447\\u0430\\u0435\\u0442\\u0441\\u044F \\u0432 \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 49\n    }\n  }, (selectedRule.support * 100).toFixed(1), \"%\"), \" \\u0432\\u0441\\u0435\\u0445 \\u0440\\u0435\\u0439\\u0441\\u043E\\u0432\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 21\n    }\n  }, \"\\u0414\\u043E\\u0441\\u0442\\u043E\\u0432\\u0435\\u0440\\u043D\\u043E\\u0441\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.metricValueLarge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  }, selectedRule.confidence.toFixed(3)), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.metricDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  }, \"\\u0412\\u0435\\u0440\\u043E\\u044F\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438 \\u043F\\u0440\\u0438 \\u044D\\u0442\\u0438\\u0445 \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F\\u0445: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 63\n    }\n  }, (selectedRule.confidence * 100).toFixed(1), \"%\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.metricInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 21\n    }\n  }, \"\\u041F\\u043E\\u0434\\u044A\\u0435\\u043C\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.metricValueLarge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 21\n    }\n  }, selectedRule.lift.toFixed(2)), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.metricDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }, \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u043E \\u0432 \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 33\n    }\n  }, selectedRule.lift.toFixed(1)), \" \\u0440\\u0430\\u0437\\u0430 \\u043B\\u0443\\u0447\\u0448\\u0435 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0439\\u043D\\u043E\\u0433\\u043E \\u043F\\u0440\\u0435\\u0434\\u0441\\u043A\\u0430\\u0437\\u0430\\u043D\\u0438\\u044F\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.modalFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.closeDetailsBtn,\n    onClick: closeRuleDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 15\n    }\n  }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summarySection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.summaryTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }\n  }, \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u043F\\u043E \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043C\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  }, \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u044F\\u044F \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.summaryValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 15\n    }\n  }, (rules.reduce((sum, rule) => sum + rule.support, 0) / rules.length).toFixed(3)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0434\\u043E\\u0441\\u0442\\u043E\\u0432\\u0435\\u0440\\u043D\\u043E\\u0441\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.summaryValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  }, Math.max(...rules.map(rule => rule.confidence)).toFixed(3)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, \"\\u041B\\u0443\\u0447\\u0448\\u0438\\u0439 \\u043F\\u043E\\u0434\\u044A\\u0435\\u043C\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.summaryValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  }, Math.max(...rules.map(rule => rule.lift)).toFixed(2)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0441\\u0435\\u0433\\u043E \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.summaryValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 15\n    }\n  }, rules.length))))));\n};\n\nexport default Analytics;","map":{"version":3,"sources":["/Users/emiliamamedova/flight-1/src/components/Analytics.jsx"],"names":["React","useState","useEffect","axios","styles","Analytics","rules","setRules","loading","setLoading","error","setError","selectedRule","setSelectedRule","explanationOpen","setExplanationOpen","fetchRules","response","get","data","err","console","openRuleDetails","rule","closeRuleDetails","loadingContainer","spinner","errorContainer","retryBtn","window","location","reload","getConfidenceClass","confidence","high","medium","low","getLiftClass","lift","excellent","good","average","getConfidenceLabel","getLiftLabel","container","pageHeader","headerContent","pageTitle","pageSubtitle","headerActions","helpBtn","modalOverlay","modalContent","modalHeader","closeBtn","modalBody","explanationBlock","example","tips","tableContainer","tableHeader","tableTitle","tableStats","statItem","statLabel","statValue","length","reduce","sum","toFixed","tableWrapper","rulesTable","tableTh","map","index","tableRow","even","odd","ruleCondition","ruleText","ruleSupport","support","metricBar","barFill","width","Math","min","ruleConfidence","badge","ruleLift","ruleActions","detailsBtn","e","stopPropagation","ruleDetails","ruleFullText","ruleTextDetailed","metricsGrid","metricCard","metricInfo","metricValueLarge","metricDescription","modalFooter","closeDetailsBtn","summarySection","summaryTitle","summaryCards","summaryCard","summaryContent","summaryValue","max"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAM,CAACa,eAAD,EAAkBC,kBAAlB,IAAwCd,QAAQ,CAAC,KAAD,CAAtD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,UAAU,GAAG,YAAY;AAC7B,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAU,2CAAV,CAAvB;AACAX,QAAAA,QAAQ,CAACU,QAAQ,CAACE,IAAV,CAAR;AACD,OAHD,CAGE,OAAOC,GAAP,EAAY;AACZT,QAAAA,QAAQ,CAAC,+DAAD,CAAR;AACAU,QAAAA,OAAO,CAACX,KAAR,CAAc,uBAAd,EAAuCU,GAAvC;AACD,OAND,SAMU;AACRX,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAVD;;AAYAO,IAAAA,UAAU;AACX,GAdQ,EAcN,EAdM,CAAT;;AAgBA,QAAMM,eAAe,GAAIC,IAAD,IAAU;AAChCV,IAAAA,eAAe,CAACU,IAAD,CAAf;AACD,GAFD;;AAIA,QAAMC,gBAAgB,GAAG,MAAM;AAC7BX,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GAFD;;AAIA,MAAIL,OAAJ,EAAa;AACX,wBACE;AAAK,MAAA,SAAS,EAAEJ,MAAM,CAACqB,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAErB,MAAM,CAACsB,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qKAFF,CADF;AAMD;;AAED,MAAIhB,KAAJ,EAAW;AACT,wBACE;AAAK,MAAA,SAAS,EAAEN,MAAM,CAACuB,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oIADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIjB,KAAJ,CAFF,eAGE;AACE,MAAA,SAAS,EAAEN,MAAM,CAACwB,QADpB;AAEE,MAAA,OAAO,EAAE,MAAMC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2GAHF,CADF;AAYD;;AAED,QAAMC,kBAAkB,GAAIC,UAAD,IAAgB;AACzC,QAAIA,UAAU,GAAG,GAAjB,EAAsB,OAAO7B,MAAM,CAAC8B,IAAd;AACtB,QAAID,UAAU,GAAG,GAAjB,EAAsB,OAAO7B,MAAM,CAAC+B,MAAd;AACtB,WAAO/B,MAAM,CAACgC,GAAd;AACD,GAJD;;AAMA,QAAMC,YAAY,GAAIC,IAAD,IAAU;AAC7B,QAAIA,IAAI,GAAG,CAAX,EAAc,OAAOlC,MAAM,CAACmC,SAAd;AACd,QAAID,IAAI,GAAG,GAAX,EAAgB,OAAOlC,MAAM,CAACoC,IAAd;AAChB,WAAOpC,MAAM,CAACqC,OAAd;AACD,GAJD;;AAMA,QAAMC,kBAAkB,GAAIT,UAAD,IAAgB;AACzC,QAAIA,UAAU,GAAG,GAAjB,EAAsB,OAAO,SAAP;AACtB,QAAIA,UAAU,GAAG,GAAjB,EAAsB,OAAO,SAAP;AACtB,WAAO,QAAP;AACD,GAJD;;AAMA,QAAMU,YAAY,GAAIL,IAAD,IAAU;AAC7B,QAAIA,IAAI,GAAG,CAAX,EAAc,OAAO,SAAP;AACd,QAAIA,IAAI,GAAG,GAAX,EAAgB,OAAO,QAAP;AAChB,WAAO,QAAP;AACD,GAJD;;AAMA,sBACE;AAAK,IAAA,SAAS,EAAElC,MAAM,CAACwC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAQ,IAAA,SAAS,EAAExC,MAAM,CAACyC,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEzC,MAAM,CAAC0C,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAE1C,MAAM,CAAC2C,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oJADF,eAIE;AAAG,IAAA,SAAS,EAAE3C,MAAM,CAAC4C,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0iBAJF,CADF,eAUE;AAAK,IAAA,SAAS,EAAE5C,MAAM,CAAC6C,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAE7C,MAAM,CAAC8C,OADpB;AAEE,IAAA,OAAO,EAAE,MAAMnC,kBAAkB,CAAC,CAACD,eAAF,CAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2GADF,CAVF,CAFF,EAuBGA,eAAe,iBACd;AAAK,IAAA,SAAS,EAAEV,MAAM,CAAC+C,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE/C,MAAM,CAACgD,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEhD,MAAM,CAACiD,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kKADF,eAEE;AACE,IAAA,SAAS,EAAEjD,MAAM,CAACkD,QADpB;AAEE,IAAA,OAAO,EAAE,MAAMvC,kBAAkB,CAAC,KAAD,CAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CADF,eAWE;AAAK,IAAA,SAAS,EAAEX,MAAM,CAACmD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEnD,MAAM,CAACoD,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mGADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2lBAFF,CADF,eAME;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACoD,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,knBAFF,eAGE;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACqD,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHAHF,CANF,eAYE;AAAK,IAAA,SAAS,EAAErD,MAAM,CAACsD,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yIADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+PADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uPAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qaAHF,CAFF,CAZF,CAXF,CADF,CAxBJ,eA8DE;AAAK,IAAA,SAAS,EAAEtD,MAAM,CAACuD,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvD,MAAM,CAACwD,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAExD,MAAM,CAACyD,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kKADF,eAIE;AAAK,IAAA,SAAS,EAAEzD,MAAM,CAAC0D,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE1D,MAAM,CAAC2D,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAE3D,MAAM,CAAC4D,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EADF,eAEE;AAAM,IAAA,SAAS,EAAE5D,MAAM,CAAC6D,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC3D,KAAK,CAAC4D,MAA1C,CAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAE9D,MAAM,CAAC2D,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAE3D,MAAM,CAAC4D,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kIADF,eAEE;AAAM,IAAA,SAAS,EAAE5D,MAAM,CAAC6D,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC3D,KAAK,CAAC6D,MAAN,CAAa,CAACC,GAAD,EAAM7C,IAAN,KAAe6C,GAAG,GAAG7C,IAAI,CAACU,UAAvC,EAAmD,CAAnD,IAAwD3B,KAAK,CAAC4D,MAA/D,EAAuEG,OAAvE,CAA+E,CAA/E,CADH,CAFF,CALF,CAJF,CADF,eAmBE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACkE,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAElE,MAAM,CAACmE,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAEnE,MAAM,CAACoE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mGADF,eAEE;AAAI,IAAA,SAAS,EAAEpE,MAAM,CAACoE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAFF,eAGE;AAAI,IAAA,SAAS,EAAEpE,MAAM,CAACoE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFAHF,eAIE;AAAI,IAAA,SAAS,EAAEpE,MAAM,CAACoE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAJF,eAKE;AAAI,IAAA,SAAS,EAAEpE,MAAM,CAACoE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CALF,CADF,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlE,KAAK,CAACmE,GAAN,CAAU,CAAClD,IAAD,EAAOmD,KAAP,kBACT;AACE,IAAA,GAAG,EAAEA,KADP;AAEE,IAAA,SAAS,EAAG,GAAEtE,MAAM,CAACuE,QAAS,IAAGD,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkBtE,MAAM,CAACwE,IAAzB,GAAgCxE,MAAM,CAACyE,GAAI,EAF9E;AAGE,IAAA,OAAO,EAAE,MAAMvD,eAAe,CAACC,IAAD,CAHhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAI,IAAA,SAAS,EAAEnB,MAAM,CAAC0E,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE1E,MAAM,CAAC2E,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxD,IAAI,CAACA,IADR,CADF,CALF,eAUE;AAAI,IAAA,SAAS,EAAEnB,MAAM,CAAC4E,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzD,IAAI,CAAC0D,OAAL,CAAaZ,OAAb,CAAqB,CAArB,CADH,eAEE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAAC8E,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAE9E,MAAM,CAAC+E,OADpB;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAG,GAAEC,IAAI,CAACC,GAAL,CAAS/D,IAAI,CAAC0D,OAAL,GAAe,GAAxB,EAA6B,GAA7B,CAAkC;AAA9C,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,CAVF,eAqBE;AAAI,IAAA,SAAS,EAAE7E,MAAM,CAACmF,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhE,IAAI,CAACU,UAAL,CAAgBoC,OAAhB,CAAwB,CAAxB,CADH,eAEE;AAAK,IAAA,SAAS,EAAG,GAAEjE,MAAM,CAACoF,KAAM,IAAGpF,MAAM,CAAC4B,kBAAkB,CAACT,IAAI,CAACU,UAAN,CAAnB,CAAsC,EAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGS,kBAAkB,CAACnB,IAAI,CAACU,UAAN,CADrB,CAFF,CADF,CArBF,eA6BE;AAAI,IAAA,SAAS,EAAE7B,MAAM,CAACqF,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlE,IAAI,CAACe,IAAL,CAAU+B,OAAV,CAAkB,CAAlB,CADH,eAEE;AAAK,IAAA,SAAS,EAAG,GAAEjE,MAAM,CAACoF,KAAM,IAAGpF,MAAM,CAACiC,YAAY,CAACd,IAAI,CAACe,IAAN,CAAb,CAA0B,EAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,YAAY,CAACpB,IAAI,CAACe,IAAN,CADf,CAFF,CADF,CA7BF,eAqCE;AAAI,IAAA,SAAS,EAAElC,MAAM,CAACsF,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAEtF,MAAM,CAACuF,UADpB;AAEE,IAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACC,eAAF;AACAvE,MAAAA,eAAe,CAACC,IAAD,CAAf;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DADF,CArCF,CADD,CADH,CAVF,CADF,CAnBF,CA9DF,EAsJGX,YAAY,iBACX;AAAK,IAAA,SAAS,EAAER,MAAM,CAAC+C,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAG,GAAE/C,MAAM,CAACgD,YAAa,IAAGhD,MAAM,CAAC0F,WAAY,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE1F,MAAM,CAACiD,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFADF,eAEE;AAAQ,IAAA,SAAS,EAAEjD,MAAM,CAACkD,QAA1B;AAAoC,IAAA,OAAO,EAAE9B,gBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CADF,eAME;AAAK,IAAA,SAAS,EAAEpB,MAAM,CAACmD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEnD,MAAM,CAAC2F,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFADF,eAEE;AAAG,IAAA,SAAS,EAAE3F,MAAM,CAAC4F,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCpF,YAAY,CAACW,IAArD,CAFF,CADF,eAME;AAAK,IAAA,SAAS,EAAEnB,MAAM,CAAC6F,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE7F,MAAM,CAAC8F,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9F,MAAM,CAAC+F,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DADF,eAEE;AAAG,IAAA,SAAS,EAAE/F,MAAM,CAACgG,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCxF,YAAY,CAACqE,OAAb,CAAqBZ,OAArB,CAA6B,CAA7B,CAAxC,CAFF,eAGE;AAAG,IAAA,SAAS,EAAEjE,MAAM,CAACiG,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8JAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAS,CAACzF,YAAY,CAACqE,OAAb,GAAuB,GAAxB,EAA6BZ,OAA7B,CAAqC,CAArC,CAAT,MAD5B,mEAHF,CADF,CADF,eAWE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAAC8F,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9F,MAAM,CAAC+F,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFADF,eAEE;AAAG,IAAA,SAAS,EAAE/F,MAAM,CAACgG,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCxF,YAAY,CAACqB,UAAb,CAAwBoC,OAAxB,CAAgC,CAAhC,CAAxC,CAFF,eAGE;AAAG,IAAA,SAAS,EAAEjE,MAAM,CAACiG,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wOAC0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAS,CAACzF,YAAY,CAACqB,UAAb,GAA0B,GAA3B,EAAgCoC,OAAhC,CAAwC,CAAxC,CAAT,MAD1C,CAHF,CADF,CAXF,eAqBE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAAC8F,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9F,MAAM,CAAC+F,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADF,eAEE;AAAG,IAAA,SAAS,EAAE/F,MAAM,CAACgG,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCxF,YAAY,CAAC0B,IAAb,CAAkB+B,OAAlB,CAA0B,CAA1B,CAAxC,CAFF,eAGE;AAAG,IAAA,SAAS,EAAEjE,MAAM,CAACiG,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEACY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASzF,YAAY,CAAC0B,IAAb,CAAkB+B,OAAlB,CAA0B,CAA1B,CAAT,CADZ,mMAHF,CADF,CArBF,CANF,CANF,eA6CE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACkG,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAElG,MAAM,CAACmG,eAA1B;AAA2C,IAAA,OAAO,EAAE/E,gBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADF,CA7CF,CADF,CAvJJ,eA+ME;AAAK,IAAA,SAAS,EAAEpB,MAAM,CAACoG,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAEpG,MAAM,CAACqG,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kIADF,eAEE;AAAK,IAAA,SAAS,EAAErG,MAAM,CAACsG,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEtG,MAAM,CAACuG,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvG,MAAM,CAACwG,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yGADF,eAEE;AAAG,IAAA,SAAS,EAAExG,MAAM,CAACyG,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACvG,KAAK,CAAC6D,MAAN,CAAa,CAACC,GAAD,EAAM7C,IAAN,KAAe6C,GAAG,GAAG7C,IAAI,CAAC0D,OAAvC,EAAgD,CAAhD,IAAqD3E,KAAK,CAAC4D,MAA5D,EAAoEG,OAApE,CAA4E,CAA5E,CADH,CAFF,CADF,CADF,eAUE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACuG,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvG,MAAM,CAACwG,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+JADF,eAEE;AAAG,IAAA,SAAS,EAAExG,MAAM,CAACyG,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxB,IAAI,CAACyB,GAAL,CAAS,GAAGxG,KAAK,CAACmE,GAAN,CAAUlD,IAAI,IAAIA,IAAI,CAACU,UAAvB,CAAZ,EAAgDoC,OAAhD,CAAwD,CAAxD,CADH,CAFF,CADF,CAVF,eAmBE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACuG,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvG,MAAM,CAACwG,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFADF,eAEE;AAAG,IAAA,SAAS,EAAExG,MAAM,CAACyG,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxB,IAAI,CAACyB,GAAL,CAAS,GAAGxG,KAAK,CAACmE,GAAN,CAAUlD,IAAI,IAAIA,IAAI,CAACe,IAAvB,CAAZ,EAA0C+B,OAA1C,CAAkD,CAAlD,CADH,CAFF,CADF,CAnBF,eA4BE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACuG,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvG,MAAM,CAACwG,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EADF,eAEE;AAAG,IAAA,SAAS,EAAExG,MAAM,CAACyG,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCvG,KAAK,CAAC4D,MAA1C,CAFF,CADF,CA5BF,CAFF,CA/MF,CADF;AAwPD,CAvUD;;AAyUA,eAAe7D,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from './Analytics.module.css';\n\nconst Analytics = () => {\n  const [rules, setRules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedRule, setSelectedRule] = useState(null);\n  const [explanationOpen, setExplanationOpen] = useState(false);\n\n  useEffect(() => {\n    const fetchRules = async () => {\n      try {\n        const response = await axios.get('http://127.0.0.1:8000/api/delay-rules/top');\n        setRules(response.data);\n      } catch (err) {\n        setError('Ошибка при получении данных. Проверьте подключение к серверу.');\n        console.error('Error fetching rules:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRules();\n  }, []);\n\n  const openRuleDetails = (rule) => {\n    setSelectedRule(rule);\n  };\n\n  const closeRuleDetails = () => {\n    setSelectedRule(null);\n  };\n\n  if (loading) {\n    return (\n      <div className={styles.loadingContainer}>\n        <div className={styles.spinner}></div>\n        <p>Загрузка аналитики задержек...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={styles.errorContainer}>\n        <h3>Ошибка загрузки данных</h3>\n        <p>{error}</p>\n        <button \n          className={styles.retryBtn}\n          onClick={() => window.location.reload()}\n        >\n          Попробовать снова\n        </button>\n      </div>\n    );\n  }\n\n  const getConfidenceClass = (confidence) => {\n    if (confidence > 0.8) return styles.high;\n    if (confidence > 0.6) return styles.medium;\n    return styles.low;\n  };\n\n  const getLiftClass = (lift) => {\n    if (lift > 2) return styles.excellent;\n    if (lift > 1.5) return styles.good;\n    return styles.average;\n  };\n\n  const getConfidenceLabel = (confidence) => {\n    if (confidence > 0.8) return 'Высокая';\n    if (confidence > 0.6) return 'Средняя';\n    return 'Низкая';\n  };\n\n  const getLiftLabel = (lift) => {\n    if (lift > 2) return 'Отлично';\n    if (lift > 1.5) return 'Хорошо';\n    return 'Средне';\n  };\n\n  return (\n    <div className={styles.container}>\n      {/* Шапка страницы */}\n      <header className={styles.pageHeader}>\n        <div className={styles.headerContent}>\n          <h1 className={styles.pageTitle}>\n            Аналитика задержек рейсов\n          </h1>\n          <p className={styles.pageSubtitle}>\n            На основе анализа данных выявлены скрытые закономерности, которые влияют на пунктуальность авиарейсов\n          </p>\n        </div>\n        \n        <div className={styles.headerActions}>\n          <button \n            className={styles.helpBtn}\n            onClick={() => setExplanationOpen(!explanationOpen)}\n          >\n            Как читать таблицу?\n          </button>\n        </div>\n      </header>\n\n      {/* Попап с объяснением */}\n      {explanationOpen && (\n        <div className={styles.modalOverlay}>\n          <div className={styles.modalContent}>\n            <div className={styles.modalHeader}>\n              <h3>Как понимать данные в таблице</h3>\n              <button \n                className={styles.closeBtn}\n                onClick={() => setExplanationOpen(false)}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div className={styles.modalBody}>\n              <div className={styles.explanationBlock}>\n                <h4>Условие задержки</h4>\n                <p>Правило вида \"Если [условия], то [тип задержки]\". Показывает при каких обстоятельствах чаще всего происходят задержки.</p>\n              </div>\n              \n              <div className={styles.explanationBlock}>\n                <h4>Поддержка (Support)</h4>\n                <p>Частота встречаемости данного правила во всех рейсах. Чем выше значение, тем чаще встречается такое сочетание условий.</p>\n                <div className={styles.example}>Пример: 0.05 = 5% всех рейсов</div>\n              </div>\n              \n              <div className={styles.tips}>\n                <h4>Советы по использованию:</h4>\n                <ul>\n                  <li>Смотрите на правила с высокой достоверностью (&gt; 0.8)</li>\n                  <li>Правила с высоким подъемом (&gt; 2) наиболее полезны</li>\n                  <li>Учитывайте поддержку - правила с низкой поддержкой могут быть редкими случаями</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Основная таблица */}\n      <div className={styles.tableContainer}>\n        <div className={styles.tableHeader}>\n          <h2 className={styles.tableTitle}>\n            Топ правил о задержках рейсов\n          </h2>\n          <div className={styles.tableStats}>\n            <div className={styles.statItem}>\n              <span className={styles.statLabel}>Всего правил:</span>\n              <span className={styles.statValue}>{rules.length}</span>\n            </div>\n            <div className={styles.statItem}>\n              <span className={styles.statLabel}>Средняя достоверность:</span>\n              <span className={styles.statValue}>\n                {(rules.reduce((sum, rule) => sum + rule.confidence, 0) / rules.length).toFixed(3)}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className={styles.tableWrapper}>\n          <table className={styles.rulesTable}>\n            <thead>\n              <tr>\n                <th className={styles.tableTh}>Условие задержки</th>\n                <th className={styles.tableTh}>Поддержка</th>\n                <th className={styles.tableTh}>Достоверность</th>\n                <th className={styles.tableTh}>Подъем</th>\n                <th className={styles.tableTh}>Детали</th>\n              </tr>\n            </thead>\n            <tbody>\n              {rules.map((rule, index) => (\n                <tr \n                  key={index}\n                  className={`${styles.tableRow} ${index % 2 === 0 ? styles.even : styles.odd}`}\n                  onClick={() => openRuleDetails(rule)}\n                >\n                  <td className={styles.ruleCondition}>\n                    <div className={styles.ruleText}>\n                      {rule.rule}\n                    </div>\n                  </td>\n                  <td className={styles.ruleSupport}>\n                    <div>\n                      {rule.support.toFixed(3)}\n                      <div className={styles.metricBar}>\n                        <div \n                          className={styles.barFill}\n                          style={{ width: `${Math.min(rule.support * 200, 100)}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className={styles.ruleConfidence}>\n                    <div>\n                      {rule.confidence.toFixed(3)}\n                      <div className={`${styles.badge} ${styles[getConfidenceClass(rule.confidence)]}`}>\n                        {getConfidenceLabel(rule.confidence)}\n                      </div>\n                    </div>\n                  </td>\n                  <td className={styles.ruleLift}>\n                    <div>\n                      {rule.lift.toFixed(2)}\n                      <div className={`${styles.badge} ${styles[getLiftClass(rule.lift)]}`}>\n                        {getLiftLabel(rule.lift)}\n                      </div>\n                    </div>\n                  </td>\n                  <td className={styles.ruleActions}>\n                    <button \n                      className={styles.detailsBtn}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        openRuleDetails(rule);\n                      }}\n                    >\n                      Подробнее\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Попап с деталями правила */}\n      {selectedRule && (\n        <div className={styles.modalOverlay}>\n          <div className={`${styles.modalContent} ${styles.ruleDetails}`}>\n            <div className={styles.modalHeader}>\n              <h3>Детали правила</h3>\n              <button className={styles.closeBtn} onClick={closeRuleDetails}>×</button>\n            </div>\n            \n            <div className={styles.modalBody}>\n              <div className={styles.ruleFullText}>\n                <h4>Полное правило:</h4>\n                <p className={styles.ruleTextDetailed}>{selectedRule.rule}</p>\n              </div>\n              \n              <div className={styles.metricsGrid}>\n                <div className={styles.metricCard}>\n                  <div className={styles.metricInfo}>\n                    <h5>Поддержка</h5>\n                    <p className={styles.metricValueLarge}>{selectedRule.support.toFixed(3)}</p>\n                    <p className={styles.metricDescription}>\n                      Это правило встречается в <strong>{(selectedRule.support * 100).toFixed(1)}%</strong> всех рейсов\n                    </p>\n                  </div>\n                </div>\n                \n                <div className={styles.metricCard}>\n                  <div className={styles.metricInfo}>\n                    <h5>Достоверность</h5>\n                    <p className={styles.metricValueLarge}>{selectedRule.confidence.toFixed(3)}</p>\n                    <p className={styles.metricDescription}>\n                      Вероятность задержки при этих условиях: <strong>{(selectedRule.confidence * 100).toFixed(1)}%</strong>\n                    </p>\n                  </div>\n                </div>\n                \n                <div className={styles.metricCard}>\n                  <div className={styles.metricInfo}>\n                    <h5>Подъем</h5>\n                    <p className={styles.metricValueLarge}>{selectedRule.lift.toFixed(2)}</p>\n                    <p className={styles.metricDescription}>\n                      Правило в <strong>{selectedRule.lift.toFixed(1)}</strong> раза лучше случайного предсказания\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className={styles.modalFooter}>\n              <button className={styles.closeDetailsBtn} onClick={closeRuleDetails}>\n                Закрыть\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Статистика внизу */}\n      <div className={styles.summarySection}>\n        <h3 className={styles.summaryTitle}>Статистика по правилам</h3>\n        <div className={styles.summaryCards}>\n          <div className={styles.summaryCard}>\n            <div className={styles.summaryContent}>\n              <h4>Средняя поддержка</h4>\n              <p className={styles.summaryValue}>\n                {(rules.reduce((sum, rule) => sum + rule.support, 0) / rules.length).toFixed(3)}\n              </p>\n            </div>\n          </div>\n          \n          <div className={styles.summaryCard}>\n            <div className={styles.summaryContent}>\n              <h4>Максимальная достоверность</h4>\n              <p className={styles.summaryValue}>\n                {Math.max(...rules.map(rule => rule.confidence)).toFixed(3)}\n              </p>\n            </div>\n          </div>\n          \n          <div className={styles.summaryCard}>\n            <div className={styles.summaryContent}>\n              <h4>Лучший подъем</h4>\n              <p className={styles.summaryValue}>\n                {Math.max(...rules.map(rule => rule.lift)).toFixed(2)}\n              </p>\n            </div>\n          </div>\n          \n          <div className={styles.summaryCard}>\n            <div className={styles.summaryContent}>\n              <h4>Всего правил</h4>\n              <p className={styles.summaryValue}>{rules.length}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Analytics;"]},"metadata":{},"sourceType":"module"}